% =============================================================
% Pandoc XeLaTeX Template for Multilingual PDF Generation
% -------------------------------------------------------------
% Purpose:
%   - Used with Pandoc and XeLaTeX to convert Markdown to PDF.
%   - Supports Bengali, Arabic, Emoji, Symbols, and English text.
% Font Setup:
%   - Noto Sans: Main font for English and general text.
%   - Ekushey Lalsalu: Bengali script (\bn{...}).
%   - Amiri: Arabic script (\ar{...}).
%   - Noto Emoji: Emoji support (\emoji{...}).
%   - Symbola: Symbol support (\symb{...}).
%   - Font paths may need adjustment for your system.
% Usage Notes:
%   - Lua filter should wrap Bengali, Arabic, Emoji, and Symbol text with the above commands for correct rendering.
%   - Place custom fonts in ~/.fonts or update Path in fontspec commands.
%   - Section formatting, TOC, tables, images, and page geometry are customized for clarity and readability.
%   - Do not modify code below unless you understand LaTeX and Pandoc templates.
%   - For troubleshooting font issues, check font installation and Lua filter output.
% =============================================================


\documentclass[12pt]{extarticle} % More reasonable font size

\usepackage{fontspec}
\setmainfont{Noto Sans}
\newfontfamily\bengalifont[Script=Bengali]{Ekushey Lalsalu}
\newfontfamily\emojifont{Noto Emoji} % For emoji support
\newfontfamily\symbolfont{Symbola}[Path=/home/robi/.fonts/]
\newfontfamily\arabicfont[Path=/home/robi/.fonts/,Script=Arabic]{Amiri-Regular.ttf} % For Arabic support
\newcommand{\emoji}[1]{{\emojifont #1}} % Wrapper command used by Lua filter
\newcommand{\symb}[1]{{\symbolfont #1}}

\usepackage{graphicx} % For image inclusion
\setkeys{Gin}{width=\linewidth,keepaspectratio} % Scale images to fit text width

\usepackage{parskip}
\usepackage{geometry}
\geometry{a4paper, margin=1in} % Increased margin to prevent text cutoff

\usepackage{titlesec}
\titleformat{\section}
  {\normalfont\Large\bfseries\centering} % Centered H1
  {\thesection}{1em}{}
\titleformat{\subsection}
  {\normalfont\large\bfseries} % Left-aligned H2
  {\thesubsection}{1em}{}

% Remove dots in TOC
\usepackage{tocloft}
\renewcommand{\cftdotsep}{10000}

% Redefine horizontal rule
\makeatletter
\def\hrulefill{\leavevmode\leaders\hrule height 0.4pt\hfill\kern\z@}
\renewcommand{\rule}[2]{\hrule height #2 width \linewidth}
\makeatother

\usepackage{fancyhdr}
\pagestyle{fancy}
\fancyhf{}
\renewcommand{\headrulewidth}{0pt}
\renewcommand{\footrulewidth}{0pt}

% Added for Pandoc table support
\usepackage{longtable}

% Added for Pandoc table \toprule, \midrule, \bottomrule support
\usepackage{booktabs}

\usepackage{hyperref}
\hypersetup{
  colorlinks=true,
  linkcolor=blue,
  urlcolor=blue,
  pdftitle={Training Document},
  pdfauthor={Your Name},
  pdfsubject={Mobile Servicing Training},
  pdfkeywords={Mobile, Training, Bengali},
}

\newcommand{\bn}[1]{{\bengalifont #1}}

\newcommand{\ar}[1]{{\arabicfont #1}}

\providecommand{\tightlist}{%
  \setlength{\itemsep}{0pt}\setlength{\parskip}{0pt}}

\usepackage{setspace}
\linespread{1.1} % <-- Reduced line height (default is ~1.2)

\pagenumbering{gobble}
\setcounter{secnumdepth}{0}

\usepackage{framed}
\newenvironment{Shaded}{\begin{framed}}{\end{framed}}

\usepackage{fvextra}
\DefineVerbatimEnvironment{Highlighting}{Verbatim}{breaklines,commandchars=\\\{\}}
\fvset{formatcom=\color{black}}

\begin{document}

\tableofcontents
\newpage

$if(title)$
\maketitle
$endif$

$body$

\end{document}
